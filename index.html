<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>RULES</title>
<link type="text/css" rel="stylesheet" href="lib/styles.css">
<link type="text/css" rel="stylesheet" href="rules/styles.css">
<script type="text/javascript" src="lib/cgru.js"></script>
<script type="text/javascript" src="rules/admin.js"></script>
<script type="text/javascript" src="rules/asset.js"></script>
<script type="text/javascript" src="rules/comments.js"></script>
<script type="text/javascript" src="rules/common.js"></script>
<script type="text/javascript" src="rules/dailies.js"></script>
<script type="text/javascript" src="rules/filesview.js"></script>
<script type="text/javascript" src="rules/general.js"></script>
<script type="text/javascript" src="rules/md5.js"></script>
<script type="text/javascript" src="rules/network.js"></script>
<script type="text/javascript" src="rules/news.js"></script>
<script type="text/javascript" src="rules/playlist.js"></script>
<script type="text/javascript" src="rules/status.js"></script>
<script type="text/javascript" src="rules/ui.js"></script>
<script type="text/javascript" src="rules/upload.js"></script>
<script type="text/javascript">

if( document.location.host.indexOf('cgru.info') != -1 )
{
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-36528898-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
}

</script>
</head>
<body onload="g_Init()">

<div id="navig_div">
	<div id="navig"></div>
	<div id="navig_panel">
		<div class="infotooltip" style="float: left; margin: 1px 4px;" title="Navigation Controls:
LMB - goto folder (set current)
LMB on current folder - open/close
RMB - open/close folder (faster)"
			>i</div>
		<div class="button" id="navig_show_artists"    title="Show artists" onclick="g_NavigShowInfo(this)">ART</div>
		<div class="button" id="navig_show_tags"       title="Show tags" onclick="g_NavigShowInfo(this)">TAG</div>
		<div class="button" id="navig_show_annotation" title="Show annotation" onclick="g_NavigShowInfo(this)">ANN</div>
		<div class="button" id="navig_show_percent"    title="Show percentage" onclick="g_NavigShowInfo(this)">%</div>
	</div>
	<div id="navig_handle" class="gui_size_handle" onmousedown="u_ResizeGUIStart('navig_width',1)"></div>
</div>

<div id="content">
	<div id="panel">
		<div id="subscribe" style="display:none">
			<div id="subscribe_btn" class="button" title="Receive this location changes" onclick="nw_Subscribe()">Subscribe</div>
			<div id="subscribe_label">Subscribed</div>
			<div id="unsubscribe_btn" class="button" title="Do not receive changes from this location" onclick="nw_Unsubscribe()">Unsubscribe</div>
			<div id="subscribe_path" title="Subscribed parent location"></div>
			<div id="news_make" class="button" title="Create some custom news" onclick="nw_MakeNewsDialog()">Make News</div>
			<div id="news_disable" class="button" title="If news disabled, your changes does not produce any news" onclick="nw_DisableNewsToggle( true)"></div>
			<div id="news_ignore_own" class="button" title="If you ignoring own news, you do not receive changes performed by yourself" onclick="nw_IgnoreOwnToggle( true)"></div>
		</div>
		<div id="search_panel" style="float:right">
			<div id="search_btn" class="button" onclick="u_SearchOnClick()">Search</div>
		</div>
	</div>
	<div id="search" style="display:none">
		<div>
			<div style="float:left">Percent:</div>
			<div id="search_percentmin" class="editing" style="float:left;width:40px;text-align:center;" contenteditable="true"></div>
			<div style="float:left"> - </div>
			<div id="search_percentmax" class="editing" style="float:left;width:40px;text-align:center;" contenteditable="true"></div>
			<div style="float:left">Finish:</div>
			<div id="search_finishmin" class="editing" style="float:left;width:40px;text-align:center;" contenteditable="true"></div>
			<div style="float:left"> - </div>
			<div id="search_finishmax" class="editing" style="float:left;width:40px;text-align:center;" contenteditable="true"></div>
			<div class="button" style="float:right" onclick="u_SearchSearch()">Search</div>
		</div>
		<div>
			<div style="float:left;">Annotation:</div>
			<div id="search_annotation" class="editing" contenteditable="true"></div>
		</div>
		<div id="search_artists_div" style="display:none">
			<div style="float:left;">Artists:</div>
			<div id="search_artists"></div>
		</div>
		<div>
			<div style="float:left;">Tags:</div>
			<div id="search_tags"></div>
		</div>
		<div>
			<div style="float:left">Status Modified:</div>
			<div id="search_statmodmin" class="editing" style="float:left;width:40px;text-align:center;" contenteditable="true"></div>
			<div style="float:left"> - </div>
			<div id="search_statmodmax" class="editing" style="float:left;width:40px;text-align:center;" contenteditable="true"></div>
			<div style="float:left">Body Modified:</div>
			<div id="search_bodymodmin" class="editing" style="float:left;width:40px;text-align:center;" contenteditable="true"></div>
			<div style="float:left"> - </div>
			<div id="search_bodymodmax" class="editing" style="float:left;width:40px;text-align:center;" contenteditable="true"></div>
		</div>
		<div>
			<div style="float:left;">Body:</div>
			<div id="search_body" class="editing" contenteditable="true"></div>
		</div>
		<div id="search_comment_div">
			<div style="float:left;">Comments:</div>
			<div id="search_comment" class="editing" contenteditable="true"></div>
		</div>
		<div id="search_result_div" style="display:none;border-radius:6px; box-shadow:0 0 3px #000 inset;">
			<div id="search_info">
				<div style="float:left;">Search Path = </div>
				<a id="search_path"></a>
				<div style="clear: both;">
					<div style="float:left;">Results Count:</div>
					<div style="float:left;" id="search_results_count"></div>
				</div>
			</div>
			<div id="search_result" style="border-radius:6px; box-shadow:0 0 3px #000 inset; margin: 8px; padding: 8px;"></div>
			<div id="search_result_none" style="display:none; border-radius:6px; box-shadow:0 0 3px #000 inset; margin: 8px; padding: 8px; text-align: center;">
				No results founded.</div>
		</div>
	</div>
	<div style="text-align:center;"><img id="thumbnail" class="thumbnail" style="margin-top:4px"></div>
	<div id="content_info">
		<div id="content_status">
			<div id="status_edit" class="button" style="display:none; float:right; font-size:10px;" onclick="u_StatusEditOnClick()">Edit</div>
			<div id="status_percentage"></div>
			<div id="status_annotation"></div>
			<div id="status_artists" class="artists"></div>
			<div id="status_tags" class="tags"></div>
			<div id="status_finish" class="finish"></div>
			<div id="status_progress" class="progress"><div id="status_progressbar" class="progressbar"></div></div>
			<div id="status_modified"></div>
		</div>
	</div>
	<div id="asset_div" class="view">
		<div id="asset_btn" class="button openclose" onclick="u_OpenCloseView('asset')">-</div>
		<div id="asset_label" style="text-align:center; margin-top: 4px;">Asset</div>
		<div id="asset"></div>
	</div>
	<div id="files_div" class="view">
		<div id="files_btn" class="button openclose" onclick="u_OpenCloseView('files')">-</div>
		<div id="files_label" style="text-align:center; margin-top: 4px;">Files</div>
		<div id="files"></div>
	</div>
	<div id="body_div" class="view">
		<div id="body_btn" class="button openclose" onclick="u_OpenCloseView('body')">-</div>
		<div id="body_edit" style="float:right; display:none;">
			<div id="body_btn_0" class="button" style="padding:0px 4px; float:right; display:none;"
				onclick="u_BodyEditStart()">Edit</div>
		</div>
		<div id="body_label" style="text-align:center; margin-top: 4px;">Body</div>
		<div id="body">
			<div id="body_panel" style="padding: 1px 10px;">
				<img id="body_avatar_c">
				<img id="body_avatar_m">
				<div id="body_info"></div>
			</div>
			<div id="body_panel_edit" style="display:none">
				<div class="button" style="float:right" onclick="u_BodyEditSave()">Save</div>
				<div style="float:right;border:1px solid #000;cursor:pointer;padding:2px 6px;" id="body_edit_markup" onclick="u_BodyEditMarkup()" title="HTML Markup Mode">Markup</div>
			</div>
			<div id="body_body" style="padding: 5px 10px;"></div>
		</div>
	</div>
	<div id="comments_div" class="view">
		<div id="comments_btn" class="button openclose" onclick="u_OpenCloseView('comments')">-</div>
		<div id="comments_btn_0" class="button" style="float:right;padding:0px 6px;" onclick="cm_NewOnClick()">New Comment</div>
		<div id="comments_label" style="text-align:center; margin-top: 4px;">Comments</div>
		<div id="comments"></div>
	</div>
</div>

<div id="sidepanel_div">
<div id="sidepanel">
	<div id="sidepanel_hide" class="button" title="Hide side panel" onclick="u_SidePanelHideOnClick()">&gt;&gt; H I D E &gt;&gt;</div>
	<div id="sidepanel_news" style="display:none">
		<div class="label button" onclick="nw_NewsOnClick()">News</div>
		<div class="body">
			<div id="news" style="border-radius:4px;box-shadow:0 0 4px #000 inset, 0 0 4px #FFF;margin:4px;padding:4px;"></div>
			<div style="border-radius:4px;box-shadow:0 0 4px #000 inset, 0 0 4px #FFF;margin:4px;padding:4px;">
				<div style="font-size:14px;">
					<div class="button" title="Double click to clear all received news" style="float:left;padding:2px 4px;" ondblclick="nw_RemoveNews()">Clear News</div>
					<div class="button" title="Click to open/close subsribed locations" onclick="c_ElDisplayToggle(document.getElementById('channels'))">Channels</div>
				</div>
				<div id="channels" style="display:none"></div>
			</div>
		</div>
	</div>
	<div id="sidepanel_playlist">
		<div class="label button" onclick="p_OnClick()">Playlist</div>
		<div class="body">
			<div id="playlist_panel" style="padding-left:8px;">
				<div class="button" style="float:left;font-size:11px;padding:4px 4px"
					onclick="p_NewOnClick()" title="Create New Folder">+Folder</div>
				<div class="button" style="float:left;width:14px;"
					onclick="p_AddOnClick()" title="Add Current Location To Selected Folder">+</div>
				<div class="button" style="float:left;width:14px;"
					onclick="p_DelOnClick()" title="Remove Current Item">-</div>
				<div class="button" style="float:left;font-size:11px;padding:4px 4px"
					onclick="p_RenameOnClick()" title="Rename Current Item">Rename</div>
				<div class="button" style="float:left;width:14px;"
					onclick="p_RefreshOnClick()" title="Refresh Playlist">&#10227;</div>
			</div>
			<div style="border-radius:4px;box-shadow:0 0 4px #000 inset, 0 0 4px #FFF;margin:4px;padding:4px;"
				id="playlist"></div>
		</div>
	</div>
	<div id="sidepanel_upload" style="display:none;">
		<div class="label button" onclick="up_OnClick()">Upload</div>
		<div class="body">
			<div style="padding-left:8px;">
				<div class="button" style="float:left;font-size:11px;padding:2px 4px"
					title="Start unload all selected files" onclick="up_StartAll()">Start</div>
				<div class="button" style="float:left;font-size:11px;padding:2px 4px"
					title="Remove not started and uploaded items" onclick="up_ClearAll()">Clear</div>
			</div>
			<div style="border-radius:4px;box-shadow:0 0 4px #000 inset, 0 0 4px #FFF;margin:4px;padding:4px;" id="upload">
				<!--div><input type="file" id="upload_file" onchange="up_FileSelected()" style="float:left;width:100px"></input></div-->
			</div>
		</div>
	</div>
	<div id="sidepanel_permissions" style="display:none; font-size: 12px; background: rgba(200,0,0,.2);">
		<div class="label button" onclick="ad_PermissionsOnClick()">PERMISSIONS</div>
		<div class="body">
			<div style="padding-left:8px;">
				<div class="button" style="float:left;font-size:11px;padding:2px 4px"
					onclick="ad_PermissionsClearOnClick()">Clear</div>
				<div class="button" style="float:left;font-size:11px;padding:2px 4px"
					onclick="ad_PermissionsGrpAddOnClick()">Add Group</div>
				<div class="button" style="float:left;font-size:11px;padding:2px 4px"
					onclick="ad_PermissionsUsrAddOnClick()">Add User</div>
			</div>
			<div style="border-radius:4px;box-shadow:0 0 4px #000 inset, 0 0 4px #FFF;margin:4px;padding:4px;"
				id="permissions"></div>
		</div>
	</div>
</div>
<div id="sidepanel_handle" class="gui_size_handle" onmousedown="u_ResizeGUIStart('sidepanel_width',-1)"></div>
</div>

<div id="header">
	<div style="box-shadow: 0px 0px 10px #000 inset, 0px 0px 10px #FFF; border-radius: 5px; position:absolute;top: 5px; bottom: 40px; left: 5px; right: 5px; font-size: 12px">
		<div style="top: 0px; bottom: 0px; width: 250px; position: absolute; /*border: 1px solid #000;*/">
			<div class="cgru_parameter">
				<div class="label">Browser Storage</div>
				<div class="button" style="left:120px" onclick="cgru_LocalStorageShow()">Show</div>
				<div class="button" style="left:170px" onclick="cgru_LocalStorageClearClicked()">Clear</div>
			</div>
			<div class="cgru_parameter">
				<div class="label">CGRU Config</div>
				<div class="button" style="left:120px" onclick="cgru_ConfigShow()">Show</div>
			</div>
			<div class="cgru_parameter">
				<div class="label">Platform:</div>
				<div class="variable" id="platform" style="left:70px;right:15px">unknown</div>
			</div>
			<div class="cgru_parameter">
				<div class="label">Browser:</div>
				<div class="variable" id="browser" style="left:70px;right:15px">unknown</div>
			</div>
			<div class="cgru_parameter">
				<div class="label" id="rules_label">RULES</div>
				<div class="button" style="left:120px;width:80px" onclick="u_RulesShow()">Show Current</div>
			</div>
			<div class="cgru_parameter">
				<div class="label" id="auth_user">Guest</div>
				<div class="button" id="ad_login"  style="left:160px;width:40px" onclick="ad_Login()">Login</div>
				<div class="button" id="ad_logout" style="left:160px;width:40px;display:none" onclick="ad_Logout()">Logout</div>
			</div>
		</div>
		<div id="cgru_parameters" style="position:absolute; left: 250px; width: 250px; top:0;bottom:0; /*border: 1px solid #000;*/"></div>
		<div style="position:absolute; left: 500px; width: 200px; top:0px;bottom:0; /*border: 1px solid #000;*/">
			<div class="cgru_parameter" title="Show Hidden Folders.
Need restart (F5).
Create '.hidden' in folder to hide.
Link with hidden folder will not works.
Hidden folders increase system speed.">
				<div class="label">Show Hidden:</div>
				<div class="variable" id="show_hidden" style="left:110px;right:15px;cursor:pointer" onclick="u_ShowHiddenToggle()">unknown</div>
			</div>
			<div class="cgru_parameter">
				<div class="label">Hide ScrollBars:</div>
				<div class="variable" id="hide_scrollbars" style="left:110px;right:15px;cursor:pointer" onclick="u_CalcGUI(true)">unknown</div>
			</div>
		</div>
		<div style="position:absolute; left: 700px; width: 200px; top:5px;bottom:0; /*border: 1px solid #000;*/">
			<div class="button" id="admin_button" style="display:none; background: rgba(200,0,0,.2)" onclick="ad_OpenWindow()">Administrate</div>
			<div class="button" id="profile_button" style="display:none" onclick="ad_ProfileOpen()">My Profile</div>
			<div style="text-align:center; padding: 10px 0 0 0;">
				<a href="http://cgru.info/#rules/rules.html" target="_blank">Documentation</a></div>
			<div style="text-align:center; padding: 10px 0 0 0;" id="afanasy_webgui"></div>
			<!--div style="text-align:center; padding: 10px 0 0 0;">
				<a href="afanasy/webvisor/" target="_blank">Database Statistics</a></div-->
			<div style="text-align:center; padding: 10px 0 0 0;">
				<a href="http://cgru.info/firefox/cgru-addon.xpi" target="_blank">Firefox Add-on</a></div>
		</div>
	</div>
	<div id="headeropenbtn" class="headeropenbtn button" onclick="u_OpenCloseHeader()">&darr;</div>
	<div class="panel">
		<div class="button" onclick="window.onhashchange=null;g_GO('/');window.location.reload();">Root</div>
		<div class="button" onclick="g_GO('..')">Up</div>
		<div id="news_count" title="News Counter" onclick="u_SidePanelOpen();nw_NewsOpen()"></div>
		<div id="assets"></div>
	</div>
</div>

<div id="footer">
	<div id="footeropenbtn" class="headeropenbtn button" onclick="u_OpenCloseFooter()">&uarr;</div>
	<div id="cycle"></div>
	<div id="version" style="float:right;margin:10px;">v?</div>
	<div id="open" class="cmdexec" style="float:right;margin:8px;">Open</div>
	<div id="info"></div>
	<div id="log"></div>
</div>

</body>
</html>
